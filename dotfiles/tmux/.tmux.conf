# =============================================================================
# PREFIX & KEYBINDINGS
# =============================================================================

# Unset tmux prefix from `CTRL b` to `CTRL a`
set -g prefix C-a
unbind C-b
bind-key C-a send-prefix

# Vim-style pane navigation (after pressing Ctrl+a, use h/j/k/l)
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R

# Window splits (after pressing Ctrl+a, use | or -)
bind | split-window -h    # Vertical split (side-by-side)
bind - split-window -v    # Horizontal split (top-bottom)

# =============================================================================
# WINDOW & PANE SETTINGS
# =============================================================================

# Start windows and panes at 1 (instead of 0)
set -g base-index 1
set -g pane-base-index 1

# Enable mouse support (click to select panes/windows, resize by dragging)
set -g mouse on

# Increase scrollback history buffer
set -g history-limit 10000

# Faster key repeat (less delay between repeated commands)
set -g repeat-time 300

# Renumber windows when one is closed (keeps sequential)
set -g renumber-windows on

# =============================================================================
# COPY MODE (VIM-STYLE)
# =============================================================================

# Use vim keys in copy mode
setw -g mode-keys vi

# Select text with 'v' in copy mode, yank with 'y'
bind -T copy-mode-vi v send -X selection
bind -T copy-mode-vi y send -X copy-selection

# =============================================================================
# CATPPUCCIN THEME (MANUAL COLORS)
# =============================================================================

# Catppuccin Mocha palette
set -g mode-style "fg=#cdd6f4,bg=#313244"
set -g message-style "fg=#cdd6f4,bg=#313244"
set -g message-command-style "fg=#cdd6f4,bg=#313244"

# Status bar colors
set -g status-style "fg=#cdd6f4,bg=#1e1e2e"

# Status bar left: session name
set -g status-left "#[fg=#1e1e2e,bg=#89b4fa] #S "

# Status bar right: date, time, battery (if available)
set -g status-right "#[fg=#313244,bg=#1e1e2e]  #[fg=#cdd6f4,bg=#313244] %Y-%m-%d  %H:%M "

# =============================================================================
# WINDOW TABS (STATUS BAR - ITERM2-STYLE)
# =============================================================================

# Separator between windows in status bar
set -g window-status-separator "  "

# Inactive window: subtle styling
set -g window-status-style "fg=#a6adc8,bg=#1e1e2e"
set -g window-status-format " #I: #W "

# Active window: highlighted (like iTerm2 tab)
set -g window-status-current-style "fg=#1e1e2e,bg=#89b4fa,bold"
set -g window-status-current-format " #I: #W "

# Update status bar every second (for accurate time)
set -g status-interval 1

# Center the status bar content
set -g status-justify left
